<!--pages/my-plan/components/plan-list/plan-list.wxml-->
<view class="plan-list">
  <view class="container">
    <!-- 未完成列表 -->
    <block wx:if="{{undoList.length > 0}}">
      <view
        id="plan-item"
        wx:if="{{item.tobeDeleted != 1}}"
        class="plan-item {{item.is_finish ? 'hide-item' : 'show-item'}}"
        wx:for="{{undoList}}" wx:key="create_time_applets"
        bindtap="handleToTap"
        data-data="{{item}}"
        style="margin-bottom: {{planItemMagBottom}}px;">
        <!-- 完成按钮 -->
        <view
          class="funt-wap"
          data-index="{{index}}"
          data-data="{{item}}"
          data-type="undo"
          catchtap="handleChangeState">
          <ident checked="{{item.is_finish}}" detail="{{item}}" />
        </view>
        <view class="content-wrap">
          <view class="title">{{item.title}}</view>
          <view class="detail">
            <!-- 我的一天 -->
            <view class="detail-box">
              <image class="detail-icon" src="/static/images/plan-edit/sunlight.svg"></image>
              <view class="txt">我的一天</view>
            </view>
            <!-- 截止日期 -->
            <view class="detail-box">
              <view class="point"></view>
              <image class="detail-icon" src="/static/images/plan-edit/date.svg"></image>
              <view class="txt">今天</view>
              <!-- 重复 -->
              <image class="detail-icon repeat-icon" src="/static/images/plan-edit/repeat.svg"></image>
            </view>
            <!-- 编辑了详情 -->
            <!-- <view class="detail-box">
              <view class="point"></view>
              <image class="detail-icon" src=""></image>
            </view> -->
          </view>
        </view>
      </view>
    </block>
    <!-- '已完成'切换按钮 -->
    <view class="change-btn">
      <tag-btn bind:change="handleChangeFinishedBtn"></tag-btn>
    </view>
    <!-- 已完成列表 -->
    <block>
      <view
        class="finish-view"
        style="height: {{finishListHeight}}px;">
        <view
          wx:if="{{item.tobeDeleted != 1}}"
          class="plan-item {{item.is_finish ? 'hide-item' : 'show-item'}}"
          wx:for="{{finishList}}" wx:key="create_time_applets"
          bindtap="handleToTap"
          data-data="{{item}}"
          style="margin-bottom: {{planItemMagBottom}}px;">
          <!-- 完成按钮 -->
          <view
            class="funt-wap"
            data-index="{{index}}"
            data-data="{{item}}"
            data-type="fini"
            catchtap="handleChangeState">
            <ident checked="{{item.is_finish}}" detail="{{item}}" />
          </view>
          <view class="content-wrap">
            <view class="finish-title">{{item.title}}</view>
            <view class="detail">{{item.detail || '暂无计划详情'}}</view>
          </view>
        </view>
      </view>
    </block>
  </view>
</view>
